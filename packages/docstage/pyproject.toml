[project]
name = "docstage"
dynamic = ["version"]
description = "Documentation engine for Backstage"
readme = "../../README.md"
authors = [
    { name = "Mike Yumatov", email = "mike.yumatov@gmail.com" }
]
requires-python = ">=3.14"
dependencies = [
    "aiohttp>=3.11.0",
    "authlib>=1.3.0",
    "httpx>=0.28.1",
    "cryptography>=43.0.0",
    "click>=8.1.0",
    "docstage-core",
    "watchfiles>=1.0.0",
]

[project.scripts]
docstage = "docstage.cli:cli"

[build-system]
requires = ["hatchling", "hatch-vcs"]
build-backend = "hatchling.build"

[tool.hatch.version]
source = "vcs"
raw-options = { root = "../.." }

[tool.hatch.build.hooks.vcs]
version-file = "src/docstage/_version.py"

[tool.hatch.build.targets.wheel]
packages = ["src/docstage"]

[tool.hatch.build.targets.wheel.force-include]
"../../frontend/dist" = "src/docstage/static"

[tool.uv.sources]
docstage-core = { workspace = true }
